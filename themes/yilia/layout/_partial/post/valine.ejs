<div id="vcomment" class="comment"></div>
<script async src="//cdn.jsdelivr.net/npm/leancloud-storage/dist/av-min.js"></script>
<script async src='//cdn.jsdelivr.net/npm/valine/dist/Valine.min.js'></script>
<script async>
    var notify = <%= theme.valine.notify %> == true ? true : false;
    var verify = <%= theme.valine.verify %> == true ? true : false;
    var visitor = <%= theme.valine.visitor %> == true ? true : false;
    window.onload = function() {
        new Valine({
            av: AV,
            el: '#vcomment',
            notify: notify,
            verify: verify,
            app_id: '<%= theme.valine.appid %>',
            app_key: '<%= theme.valine.appkey %>',
            placeholder: '<%= theme.valine.placeholder %>',
            avatar: '<%= theme.valine.avatar %>',
            avatar_cdn: '<%= theme.valine.avatar_cdn %>',
            pageSize: <%= theme.valine.pageSize %>,
            path: '<%- url_for(post.path) %>',
            visitor: visitor
        });
    }
</script>