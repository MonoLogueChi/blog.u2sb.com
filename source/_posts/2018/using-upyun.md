---
title: 使用又拍云托管静态网站
date: 2018-02-11 22:26:30
tags: 建站笔记

keywords: 又拍云 静态网站 个人博客
comments: true
---

昨天有人问怎么在又拍云托管静态网站，其实这是很简单的一件事，我就大概讲一下要怎么做。

<!-- more -->

以前也写过几篇关于建站的事情，比如备案，在阿里云建站，七牛云托管静态网站等等，想看的可以看这里[建站笔记](https://www.xxwhite.com/tags/%E5%BB%BA%E7%AB%99%E7%AC%94%E8%AE%B0/)

## 前提条件

**备案**，网站需要备案，这一条应该就会卡死大部分人。备案的过程其实也不麻烦，但是备案之后就不能为所欲为了，以为你是需要对网站负责的。喜欢瞎搞事情的就被想这蛋疼的事情了。但是不备案，国内很多服务你都用不了。

还有，如果正在打算弄的，买域名之前一定要看好哪些域名可以备案，哪些不能备案。

## 又拍云免费额度

又拍云有[又拍云联盟](https://www.upyun.com/league)，只要在站点加入又拍云logo，每个月会获赠10G空间和15G流量（**支持HTTPS！！！**），会折合成代金卷发放给用户。一年是67元，普通用户足够用了。我这个月有一篇PV5000+的文章，也才一共用了不到3毛钱。

## 使用过程

官方有个大概的教程，可以对比着看一下，有些地方我说的可能没有官方的详细[http://docs.upyun.com/cdn/service/#_6](http://docs.upyun.com/cdn/service/#_6)

### 注册账号

在这里注册账号 [又拍云注册](https://console.upyun.com/register/?invite=B1Tr4zsVf)，使用我的邀请链接注册，我可以获得30G流量，你可以获得代金卷。不想用我的邀请链接就自己去百度，然后到官网自己去注册，反正这点奖励对我来说也没啥用。

![](https://s1.ax2x.com/2018/02/11/yOWVG.png)

注册账户之后记得要实名，不实名是不能使用的。关于实名这一点，感觉又拍云很方便，芝麻信用大于700分的可以直接使用支付宝实名，小于700分的只能乖乖的拿身份证拍照了。

### 加入又拍云联盟（可选）

前面说了又拍云联盟的免费额度，[这里](https://www.upyun.com/league)说的很清楚了，反正就是要在你站点要加上又拍云的LOGO，并且加上官网链接，就像我现在这样。

然后等审核通过了，你就会获得代金卷。审核没用通过这段时间，你也是不需要自己掏钱的，因为他会送你一张61元的代金卷（有效期一个月）。

### 上传静态文件

- 使用`云存储`功能，创建服务，这一步很简单，我就不罗嗦了；
- 搞完之后就需要上传文件了，新手建议使用FTP方式，可以参考这里：[FTP/FTPS](http://docs.upyun.com/guide/#ftpftps)，或者使用第三方工具，可以看这里：[又拍云第三方工具和插件](http://docs.upyun.com/download/#third-party-plugin)。熟悉的可以使用[命令行工具](https://github.com/polym/upx)，然后搞个批处理脚本，操作简单方便；
- 到设置里绑定域名，是使用CNAME的方式绑定的，不会搞就点下面的help；
- 缓存控制，这个根据需求自己去配置，如果不懂的可以看一下我的（HEXO这样配置应该都没啥大问题）；  
![](https://s1.ax2x.com/2018/02/11/yOCwe.png)  
- 性能优化，把页面压缩给打开就可以了，其他的都不用管。
- HTTPS，等下说；
- 其他内容，不懂的就不要动了。

### 开启HTTPS（可选）

如果只是想用HTTPS的话，其实可以直接在又拍云申请证书，还支持自动续期，简单方便

证书管理地址：[证书服务](https://console.upyun.com/toolbox/ssl/)

申请证书可以按照又拍云的教程来，想自己申请的可以去百度，也可以看我以前的文章，建站笔记里有一些申请方法。

搞好证书之后，在`云存储`的设置里，开启HTTPS服务。

## 测试

把上面的都搞完了之后，访问域名测试一下站点是不是一切正常。

最后再称赞一下又拍云，不需要自己手动刷缓存真的很赞，尤其是这种需要经常更新和更改的博客站点，以前用七牛云的时候都不得不搞CDN穿透来满足需求了。