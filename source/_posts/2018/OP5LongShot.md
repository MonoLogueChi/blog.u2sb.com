---
title: 破解一加五长截图限制
date: 2018-06-19 16:26:58
tags:  [搞机 ,炎黄幼儿园]

keywords: 一加五 长截图 破解 Magisk systemless
comments: true
---

这两天我的一加五重回OOS，自然免不了折腾一番，本着向大神学习的态度（主要是太久没折腾了，好多都不会了），折腾的东西很多都参考了大侠阿木的博客。

这一篇[OPLongshot Screentshot pages hack to 10000（from 12）](http://www.daxiaamu.com/4584/)文字介绍了怎么破解截图长度，但是很可惜已经过时了，不再适用于当前版本。包括[Magisk包](http://www.daxiaamu.com/4656/)也不能用了。于是我就自己对照当前版本，简单修改了一下教程，并且基于大侠阿木的Magisk包重新制作了Magisk包。

<!-- more -->

## 工具

工具很简单，MT管理器，这货真TM的强。

## 步骤
### 提取文件

提取 `/system/app/OPLongshot/OPLongshot.apk`，如果要制作Magisk模块的话，最好把oat文件夹也一起提取了。

### 修改参数

使用MT管理器打开`OPLongshot.apk`，然后打开`resources.arsc`，打开方式为`Arsc编辑器`。然后依次打开`com.oneplus.screenshot -> integer -> integer -> max_pages`。

修改其值为120（感觉1000有点过分了，120就好，改成多少随意）。

然后右上角，保存并退出，然后点击确定就可以了。

虽然我改成了120，但是实测只能截到60多，再继续就会提示文件被占用，不知道是什么原因。

![](https://s1.ax2x.com/2018/06/19/gAEVH.png)

### 替换文件

这里提供两个思路  
- 第一个是之间替换回去，然后修改权限，这种方法操作简单，但是升级就要重新搞；
- 第二个是制作成Magisk模块，这种方法，升级的话，兼容性应该也可以，但是操作稍微麻烦一点，看我后面的步骤；

如果你的系统是OOS 5.1.2、OOS 5.1.3 OOS Beta16（以后会更新的），那你可以直接使用我的Magisk包。

如果不是，就请替换我Magisk包里的文件，最好再签一下名。改天有时间的话，我会写一份Magisk包制作的教程的。

签名的话，直接用JAVA签就可以，安装好JDK，并配置好环境变量

```
jarsigner -verbose -keystore "密钥位置" -signedjar "输出文件" "输入文件" '密钥别名'
```

Magisk包下载地址：

[https://dl.sm9.top/blog/op5Longshot/](https://dl.sm9.top/blog/op5Longshot/)

![](data:image/png;base64,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)