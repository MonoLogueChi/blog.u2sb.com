---
title: 安卓折腾Linux
date: 2017-12-04 13:04:56
tags: 搞机

comments: true
---

最近总想搞事情，在手机上搞个Linux，看看能不能折腾出点东西来。

<!-- more -->

## 手机系统

我用来实验的机器是我那台二手山寨MI3，已经被我折腾的不像样了，所以系统要线刷恢复一下，先刷成稳定版吧。

![](https://s1.ax2x.com/2017/12/04/TzUUr.png)

刷回去之后，我又选择了常用的魔趣系统作为等下要用的系统。选择魔趣只是因为经常用魔趣，而且魔趣不是一个好选择，因为这货更新太快了。

## 需要准备的软件

软件|备注
:------:|:------:
BusyBox|这个也不是必须的，但是对于某些ROM是必须的
终端模拟器|不是必须，但是有这个东西会更方便
Linux Deploy|下载地址：[https://github.com/meefik/linuxdeploy/releases](https://github.com/meefik/linuxdeploy/releases)
ssh连接工具|我用的是FinalShell


如果有其他需要的东西，后面再补充。

## 安装BusyBox

这一部分经常搞机的机油基本都会，下载弄个BusyBox安装软件傻瓜式安装一下就可以了。

## 安装和配置Linux Deploy

- 下载并安装Linux Deploy，确保手机能联网；
- 点击左上角，然后点击仓库，选择一个镜像，我这里选择的是`centos_arm`；  
 ![](https://s1.ax2x.com/2017/12/05/TWb3B.png)  
- 添加之后点右下角三个杠，自己稍微改一下配置；
- 容器类型，发行版本什么的都不用改，下面我提到的稍微改一下：
    - 安装类型，这个镜像分区或者目录随意吧，我自己选择的是目录；
    - 用户名密码，自己设置；
    - DNS自动，本地化，选`Zh_CN.UTF-8`;
    - 初始化不懂就不用管；
    - 挂载安装的时候先不用管；
    - SSH启用；
    - 图形界面，这个随意，反正我不用，需要用的话默认就可以。
- 点击右上角，再点击`安装`，开始安装，然后就是等等等，等的时间挺长的；  
![](https://s1.ax2x.com/2017/12/05/TWtT9.png)  
- 看到最下面的`<<<deploy`就是已经完成了。

## 连接和配置root密码

使用ssh连接刚才安装好的系统，我是在电脑上使用FinalShell连接的，配置如下：  
- 名称：随意；
- 主机：看手机上面有；
- 端口：22，不用改；
- 用户名，密码：刚才设置的。

![](https://s1.ax2x.com/2017/12/05/TW64A.png)

注意一下，要在同一局域网才能连接，这里如果为了方便以后连接，可以设置一下固定IP。

连接上之后第一件事就是设置root密码，然后下一次就可以用root账户登录了，输入命令后。

```
sudo passwd root
```

![](https://s1.ax2x.com/2017/12/05/TWxaY.png)

然后断开连接，修改一下ssh配置，把用户名改为root，密码改成刚才设置的，使用root账户登录。

## 更新一下系统

```
yum update
```

## 接下来就是搞事情了

- 比如装个Nginx；
- 搞个php和MySQL；
- 接个OTG硬盘；
- 试试内网穿透；

## OTG硬盘挂载

最后再手把手教一下怎么挂载硬盘。

- 首先是连接OTG硬盘，建议大家和我一样，使用带供电的OTG线，不然带硬盘的话手机根本扛不住，硬盘格式随意，NTFS也是支持的；
- Linux Deploy上点击右上角打开菜单，然后点击`状态`；
- 找到已经挂载到手机上的硬盘的位置，复制下来；  
![](https://s1.ax2x.com/2017/12/05/TW2Si.png)  
- 点击右下角的三个杠，然后找到“挂载”，挂载点列表里，点右上角加号，然后把刚才复制的路径粘进去。  
![](https://s1.ax2x.com/2017/12/05/TWRTy.png)  
- 启动系统，测试一下有没有挂载上。  
![](https://s1.ax2x.com/2017/12/05/TWgJX.png)  
<center>**<font  color="#FF0000">忽略图片里的东西</font>**</center>