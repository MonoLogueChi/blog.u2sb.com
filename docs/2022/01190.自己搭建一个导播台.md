---
title: 自己组建一个多功能导播台
date: 2022-01-19 12:18:35
tag:
  - 随便水水
  - 涨姿势
  - 直播
comments: true


redirectFrom:
  - /pages/a5d7b9/
---

最近帮公司组建了一个多功能导播台，公司也没有保密方面的要求，就把整个过程简单记录在博客上。

<!-- more -->

首先说明几点

- 这是一个低成本的多功能导播台，功能都是依靠软件实现的，软件大部分为免费软件或低成本软件，财大气粗的网友可以直接退出了。
- 这套方案目前来说还不是完全体，仍有很多进步的空间，主要是受限于资金。
- 这套方案的拓展性很好，后期可以通过增加或更换硬件，满足不同客户对直播的定制要求。
- 我们根据服务的客户，这套设备主要的应用场景是，学术会议直播，远程会议导播，线上线下结合的学术论坛导播和直播。

## 硬件基础

先来看一下主要硬件配置

| 硬件     | 配置                                                   | 备注                              |
| :------- | :----------------------------------------------------- | :-------------------------------- |
| 主板     | 华硕 Z10PA-D8                                          | 双路 LGA2011-3                    |
| CPU      | Intel Xeon E5-2630 v4                                  | 10 核 20 线程 主频 2.2G 睿频 3.1G |
| 显卡     | 影驰 RTX3060 大将 OC                                   |                                   |
| 声卡     | ESI MAYA44eX                                           | PCIE 2.0 x1                       |
| 采集卡 1 | 创视之星 8001HDMI 4K60 环出 4K60 采集卡                | PCIE 2.0 x4                       |
| 采集卡 2 | 创视之星 CSZX-890HDMI 4K60 环出 1080P60 采集卡         | PCIE 2.0 x1                       |
| 采集卡 3 | 创视之星 CSZX-8004SH 2 路 SDI + 2 路 HDMI 1080P 采集卡 | PCIE 2.0x4                        |
| 机箱     | 4U 服务器机箱                                          | 4U490                             |

整体的硬件配置大概就是这样，以普通用户的眼光来看这台机器，配置真的不咋滴，下面我来说一下硬件选择的理由。

### 主板&CPU

主板这里，这块华硕 Z10PA-D8 是我们公司下架的服务器上拆下来的，我来说一下板 U 选择的理由。

我们要做的是一台多功能导播机，需要各种各样的拓展硬件，所以就需要很多 PCIE 插槽，这样的话，家用平台基本就直接 PASS 了，能选择的就只有工作站主板核服务器主板了，再考虑到平台不能太老，X79 以前的也 PASS 了，这样能选择的主板也就只有 X99(C612) C236 C246 X299(C621) 平台了，然后再看一下预算，只能找一张二手 X99 用一下了。

CPU 的话就是跟着主板选的，在保证主频不低的情况下，价格尽量要低，核心数和线程数不是那么重要。

然后正好我们有一台下架的服务器，里面的主板是 X99 主板，在评估可用的情况下，就选择这块主板了。

再来说一下这块主板，这是一块服务器主板，特点就是 PCIE 插槽较家用主板多。

![](./img/Clip_20220119_135351.avif)

![](./img/Clip_20220119_134438.avif)

同样，作为服务器主板，这块主板还有很多的缺点，如果要新购入主板，我肯定会选工作站主板，而不是服务器主板。

- 缺少挡板（这个靠 DIY 解决了）
- IO 接口太少了（后面板 2USB2.0 + 2USB3.0，前面板原生支持 2USB2.0 + 2USB3.0）
- M.2 硬盘只支持 2242 规格的，并且为 pcie2.0x1

![](./img/Clip_20220119_135844.avif)

简单来说，这几个接口接拓展设备的时候，真的不够用，只能再拓展接口了。

### 显卡

这里选了一张 30 系的显卡，先来看一下 N 卡编解码支持可用看 [这里](https://developer.nvidia.com/video-encode-and-decode-gpu-support-matrix-new) ，编解码能力对比可以看 [这里](https://developer.nvidia.cn/nvidia-video-codec-sdk) 。

简单来说，30 系显卡相较 10 和 20 系，编解码能力强太多了，这里多花一两千块钱，后面能为我们节约更多的流量费用。

再有就是，借助 30 系显卡可以实现视频音频 AI 降噪，这些都是很实用的功能。

### 声卡

声卡这里，我用了一张 ESI MAYA44eX，这是现在市面上少有的 PCIE 声卡。

这张声卡有 2 进 2 出共 4 个 6.35 接口，是立体声接口（不是平衡口），也就是说有 4 进 4 出，一共 8 个通道。

这张卡装电脑上足够应付大部分的场景了，如果音频接口不够用，可以再加 USB 声卡或者调音台。

### 采集卡

现在便宜的采集卡真不算多，我选了国产的创视之星采集卡，接口方面也是综合考虑各种因素选择搭配的，3 张采集卡可以同时采集 2 路 SDI 和 4 路 HDMI，共计 6 路信号。其中有 2 路 HDMI 信号可以环出，一路 HDMI 可以采集 4K60 帧信号。

### 机箱

机箱主要是要那么多的 PCIE 扩展槽，并且能装下这张 ATX 主板。在网上看了好久，发现貌似只有 4U 机箱能满足这个需求了。而且我还需要有至少 1 个光驱拓展位，至于为什么要光驱拓展位，后面说说。

最终我在网上选了一款 4U490 机箱。

机箱的光驱拓展位，我装了一个 2 盘位 2.5 寸硬盘抽屉，一个多合一读卡器。装这两个东西原因其实也很简单，装两块 500G 固态硬盘，直播录像存在里面，硬盘可以直接取下来，把录像拷贝到其他机器里剪辑。读卡器也是，可以在现场将拍摄素材拷贝到硬盘里，方便现场整理素材。这些都是从以前的实践中总结到的一些需求。

![](./img/01010199.avif)

### 机柜

机柜使用了舞台航空箱，下面 8U 高度，上面 4U，总共 12U 的高度。下面从下到上分别是 导播服务器，电源和聚合路由器，关于聚合路由器，以后有空的话专门写一篇文章来说一下。顺便提一句，聚合路由器也是用的开源系统，聚合服务器是由我们自己控制的。

![](./img/01010197.avif)

![](./img/01010200.avif)

电源使用航插接口，每个接口都可以提供 12V 和 5V 供电（不同的线材获取不同的电压），并且每一路都有单独的过载保护。

### 屏幕&键鼠

屏幕使用了 3 块屏幕，并且 3 块屏幕都是触屏，操作真的非常方便。

键盘和鼠标使用了罗技的 K400+ 和 MX575，小尺寸键盘+轨迹球鼠标，非常时候在有限的空间内操作。

![](./img/01010196.avif)

## 软件

软件这部分，主要是以免费软件或低成本软件为主。

### OBS Studio

[Open Broadcaster Software](https://obsproject.com/)，开源直播推流软件，OBS 可以用来导播，可以用来推流，可以用来录像，只要有想法，OBS 能做非常多的骚操作，这里不详细讲了，感兴趣的话可以去看我的 [B 站视频](https://space.bilibili.com/28474682/channel/seriesdetail?sid=1266908)，里面会慢慢更新 OBS 相关的视频的。

OBS 最强大的是插件，没有插件的 OBS 是没有灵魂的，可以依靠不同的插件实现不同的功能。

### Voicemeeter Potato

[Voicemeeter Potato](https://vb-audio.com/Voicemeeter/) 是一个音频混音器，相较于机架软件，界面更直观，操作更灵活，而且价格也相对比较便宜。P4 等级的价格也只有 $41。

关于这个软件，我以前写过[一篇文章](/2020/voicemeeter.html)简单介绍过界面布局，感兴趣的话可以去看一下。

### 其他软件

其他一些杂七杂八的小工具，以后有机会再慢慢讲吧。
