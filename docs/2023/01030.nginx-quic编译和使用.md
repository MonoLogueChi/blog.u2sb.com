---
title: nginx-quic 编译和使用
date: 2023-01-03 15:40:50

keywords: nginx quic 编译 linux systemctl
---

最近又打算从 caddy 换回 nginx 了，简单记录一下一些操作。

<!-- more -->

## 说明

当前这个阶段，nginx 默认还是不支持 http3 的，但是 nginx-quic 分支是可以使用的。

## 准备编译环境

本文以 ubuntu 22.10 为例

首先确保软件已更新到最新

```bash
sudo apt update
sudo apt upgrade
```

```bash
sudo apt update

sudo apt install build-essential libtool libpcre3-dev zlib1g-dev git unzip ninja-build
```

## 准备源码

下面是一些需要准备的源码

- [nginx-quic](https://hg.nginx.org/nginx-quic)
- [boringssl](https://github.com/google/boringssl)
- [ngx_brotli](https://github.com/google/ngx_brotli)

(下面的不要照抄代码，理解了再去执行)

```bash
mkdir nginx-src
cd nginx-src
```

### 编译 boringssl

```bash
git clone https://github.com/google/boringssl.git
cd boringssl/
mkdir build
cd build
cmake -GNinja ..
ninja
```

未完待续...