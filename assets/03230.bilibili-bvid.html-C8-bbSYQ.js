import{_ as e}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as A,a as t,o as a}from"./app-C1cZc2zx.js";const r="data:image/avif;base64,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",o={};function p(n,i){return a(),A("div",null,i[0]||(i[0]=[t('<p>今天开始，BiliBili 视频使用 bv 号代替以前的 av 号，知乎上已经有大佬给出了 bvid 转换成 aid 的算法。</p><h2 id="解释" tabindex="-1"><a class="header-anchor" href="#解释"><span>解释</span></a></h2><p>昨天发现这个问题以后，看了一下 api，使用 bvid 是可以直接查询到 cid 的，这样对我的弹幕服务器影响甚小，对其他的视频下载器或者是什么解析服务影响应该也不大。</p><p>简单解释原理，B 站以前有两个比较重要的表示，分别是 aid 和 cid，现在使用 bvid 代替 aid，作用是一样的。不管是解析弹幕还是解析视频，最终都是使用 cid 查询的，大概可以这么理解，aid 或者是 bvid 对应的是投稿，cid 对应的是视频。</p><figure><img src="'+r+`" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>以前通过 aid 查询 cid 的 api 主要有两个，分别是</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>https://www.bilibili.com/widget/getPageList?aid={aid}</span></span>
<span class="line"><span>https://api.bilibili.com/x/player/pagelist?aid={aid}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>第一个 api 不能使用 bvid 查询，第二个 api 可以，只需要使用参数 <code>bvid={bvid}</code> 即可，比如 <code>https://api.bilibili.com/x/player/pagelist?bvid=BV18b411j72u</code>。</p><h2 id="修改" tabindex="-1"><a class="header-anchor" href="#修改"><span>修改</span></a></h2><p>看过我上一篇文章的知道，我以前使用的是第一个接口，这次需要修改为使用第二个 api，难度不大，只是返回结果数据结构变了，而且压缩算法不再是 gzip 了。</p><p>总体来说，改动不大，只需要简单的 api，再加上一个参数就可以了。</p><p>具体详情可以看我的 <a href="https://github.com/MonoLogueChi/Danmu.Server" target="_blank" rel="noopener noreferrer">GitHub 项目</a></p><p>具体代码为 <a href="https://github.com/MonoLogueChi/Danmu.Server/commit/9abca85302d91f0ff72a80abd5232256f78c2e2f" target="_blank" rel="noopener noreferrer">aaf7e3b </a></p>`,13)]))}const c=e(o,[["render",p]]),b=JSON.parse('{"path":"/2020/03230.bilibili-bvid.html","title":"BiliBili的bvid查询cid","lang":"zh-CN","frontmatter":{"title":"BiliBili的bvid查询cid","date":"2020-03-23T21:58:35.000Z","tag":["C#","dotnet"],"keywords":"BiliBili bvid bv 弹幕解析","comments":true,"redirectFrom":["/2020/bilibili-bvid.html"],"description":"今天开始，BiliBili 视频使用 bv 号代替以前的 av 号，知乎上已经有大佬给出了 bvid 转换成 aid 的算法。","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"BiliBili的bvid查询cid\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2020-03-23T21:58:35.000Z\\",\\"dateModified\\":\\"2025-05-05T14:37:47.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"MonoLogueChi\\",\\"url\\":\\"https://blog.u2sb.com\\"}]}"],["meta",{"property":"og:url","content":"https://blog.u2sb.com/2020/03230.bilibili-bvid.html"}],["meta",{"property":"og:site_name","content":"叉叉白"}],["meta",{"property":"og:title","content":"BiliBili的bvid查询cid"}],["meta",{"property":"og:description","content":"今天开始，BiliBili 视频使用 bv 号代替以前的 av 号，知乎上已经有大佬给出了 bvid 转换成 aid 的算法。"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-05-05T14:37:47.000Z"}],["meta",{"property":"article:tag","content":"dotnet"}],["meta",{"property":"article:tag","content":"C#"}],["meta",{"property":"article:published_time","content":"2020-03-23T21:58:35.000Z"}],["meta",{"property":"article:modified_time","content":"2025-05-05T14:37:47.000Z"}]]},"git":{"createdTime":1746455867000,"updatedTime":1746455867000,"contributors":[{"name":"MonoLogueChi","username":"MonoLogueChi","email":"xxwhite@foxmail.com","commits":1,"url":"https://github.com/MonoLogueChi"}]},"readingTime":{"minutes":1.35,"words":404},"filePathRelative":"2020/03230.bilibili-bvid.md","excerpt":"<p>今天开始，BiliBili 视频使用 bv 号代替以前的 av 号，知乎上已经有大佬给出了 bvid 转换成 aid 的算法。</p>\\n","autoDesc":true}');export{c as comp,b as data};
