import{_ as o}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as p,a,b as i,e as s,d as n,w as r,r as l,o as h}from"./app-CnYccAH2.js";const d={};function k(m,e){const t=l("RouteLink");return h(),p("div",null,[e[8]||(e[8]=a('<p>简单说明一下怎么生成 FMP4、HLS 和 DASH 视频，方便制作 Demo。</p><div class="hint-container tip"><p class="hint-container-title">提示</p><p>FMP4、HLS 和 DASH 本文就不再赘述了，不懂的就不要看这篇文章了，看了也没用。</p></div><div class="hint-container tip"><p class="hint-container-title">提示</p><p>本文示例为 <a href="https://peach.blender.org/" target="_blank" rel="noopener noreferrer">Big Buck Bunny</a>，可以在这里<a href="http://bbb3d.renderfarming.net/download.html" target="_blank" rel="noopener noreferrer">下载</a></p></div><blockquote><p>本文参考 <a href="https://github.com/matmoi/create-DASH-HLS" target="_blank" rel="noopener noreferrer">https://github.com/matmoi/create-DASH-HLS</a></p></blockquote><blockquote><p>因为版本和工具较多，本文介绍方法并非唯一。</p></blockquote><h2 id="工具" tabindex="-1"><a class="header-anchor" href="#工具"><span>工具</span></a></h2>',6)),i("ul",null,[i("li",null,[e[1]||(e[1]=i("a",{href:"https://ffmpeg.org/",target:"_blank",rel:"noopener noreferrer"},"ffmpeg",-1)),e[2]||(e[2]=s("，安装推荐使用 ")),n(t,{to:"/2022/02090.%E7%94%A8Scoop%E5%AE%89%E8%A3%85%E4%B8%80%E4%BA%9B%E5%AE%9E%E7%94%A8%E5%B7%A5%E5%85%B7.html"},{default:r(()=>e[0]||(e[0]=[s("scoop")])),_:1})]),i("li",null,[e[4]||(e[4]=i("a",{href:"https://github.com/gpac/gpac",target:"_blank",rel:"noopener noreferrer"},"mp4box",-1)),e[5]||(e[5]=s("，安装推荐使用 ")),n(t,{to:"/2022/02090.%E7%94%A8Scoop%E5%AE%89%E8%A3%85%E4%B8%80%E4%BA%9B%E5%AE%9E%E7%94%A8%E5%B7%A5%E5%85%B7.html"},{default:r(()=>e[3]||(e[3]=[s("scoop")])),_:1}),e[6]||(e[6]=s("，非必须"))]),e[7]||(e[7]=i("li",null,[i("a",{href:"https://www.bento4.com/downloads/",target:"_blank",rel:"noopener noreferrer"},"bento4")],-1))]),e[9]||(e[9]=a('<h2 id="转码" tabindex="-1"><a class="header-anchor" href="#转码"><span>转码</span></a></h2><p>非必须步骤，通过 <code>x264</code> 重新编码视频，如果感兴趣的话可以到网上学习一下，使用 <code>ffmpeg</code> 操作。</p><h2 id="fmp4" tabindex="-1"><a class="header-anchor" href="#fmp4"><span>FMP4</span></a></h2><p>使用 <code>bento4</code> 的 <code>mp4fragment</code> 工或 <code>mp4box</code> 都可以完成此步操作。</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">.</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">\\</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">mp4fragment.exe</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --fragment-duration</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 2000</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> bbb.mp4</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> bbb_f.mp4</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="dash-hls" tabindex="-1"><a class="header-anchor" href="#dash-hls"><span>DASH/HLS</span></a></h2><p>使用 <code>bento4</code> 的 <code>mp4dash</code> 工具</p><p>在完成上一步的操作基础上，这东西有好多规范和格式，详见<a href="https://www.bento4.com/developers/dash/" target="_blank" rel="noopener noreferrer">文档</a></p><p>最简单：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">python</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ..</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">\\u</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">tils</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">\\m</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">p4-dash.py</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> .</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">\\b</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">bb_f.mp4</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>使用 <code>--profiles</code> 和 <code>--hls</code> 参数（具体含义见<a href="https://www.bento4.com/developers/dash/" target="_blank" rel="noopener noreferrer">文档</a>）</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">python</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ..</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">\\u</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">tils</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">\\m</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">p4-dash.py</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --verbose</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --profiles=on-demand</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --hls</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --mpd-name</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> bbb.mpd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> .</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">\\b</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">bb_f.mp4</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>更多参数见<a href="https://www.bento4.com/developers/dash/" target="_blank" rel="noopener noreferrer">文档</a></p><h2 id="其他" tabindex="-1"><a class="header-anchor" href="#其他"><span>其他</span></a></h2><p>其他参考</p><ul><li><a href="https://mlog.club/article/5778186" target="_blank" rel="noopener noreferrer">https://mlog.club/article/5778186</a></li></ul>',16))])}const b=o(d,[["render",k]]),A=JSON.parse('{"path":"/2022/03010.FMP4%E3%80%81HLS%E5%92%8CDASH%E8%A7%86%E9%A2%91%E7%94%9F%E6%88%90.html","title":"FMP4、HLS和DASH视频生成","lang":"zh-CN","frontmatter":{"title":"FMP4、HLS和DASH视频生成","date":"2022-03-01T22:57:57.000Z","redirectFrom":["/pages/a5ea76/"],"tag":["随便水水","涨姿势"],"comments":true,"description":"简单说明一下怎么生成 FMP4、HLS 和 DASH 视频，方便制作 Demo。","head":[["meta",{"property":"og:url","content":"https://blog.u2sb.com/2022/03010.FMP4%E3%80%81HLS%E5%92%8CDASH%E8%A7%86%E9%A2%91%E7%94%9F%E6%88%90.html"}],["meta",{"property":"og:site_name","content":"叉叉白"}],["meta",{"property":"og:title","content":"FMP4、HLS和DASH视频生成"}],["meta",{"property":"og:description","content":"简单说明一下怎么生成 FMP4、HLS 和 DASH 视频，方便制作 Demo。"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-04-06T05:10:35.000Z"}],["meta",{"property":"article:tag","content":"随便水水"}],["meta",{"property":"article:tag","content":"涨姿势"}],["meta",{"property":"article:published_time","content":"2022-03-01T22:57:57.000Z"}],["meta",{"property":"article:modified_time","content":"2025-04-06T05:10:35.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"FMP4、HLS和DASH视频生成\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2022-03-01T22:57:57.000Z\\",\\"dateModified\\":\\"2025-04-06T05:10:35.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"MonoLogueChi\\",\\"url\\":\\"https://blog.u2sb.com\\"}]}"]]},"git":{"createdTime":1743916235000,"updatedTime":1743916235000,"contributors":[{"name":"MonoLogueChi","username":"MonoLogueChi","email":"xxwhite@foxmail.com","commits":1,"url":"https://github.com/MonoLogueChi"}]},"readingTime":{"minutes":1.14,"words":343},"filePathRelative":"2022/03010.FMP4、HLS和DASH视频生成.md","localizedDate":"2022年3月2日","excerpt":"<p>简单说明一下怎么生成 FMP4、HLS 和 DASH 视频，方便制作 Demo。</p>\\n","autoDesc":true}');export{b as comp,A as data};
